(this["webpackJsonpreact-social"]=this["webpackJsonpreact-social"]||[]).push([[0],{100:function(e,t,s){},101:function(e,t,s){},103:function(e,t,s){"use strict";s.r(t);var c=s(1),a=s.n(c),r=s(28),n=s.n(r),i=(s(62),s(117)),o=s(118),l=s(119),j=s(120),u=s(20),d=s(3),b=s(10),p=s(56),h=s(15),m=function(e,t){switch(t.type){case"LOGIN_START":return{user:null,isFetching:!0,error:!1};case"LOGIN_SUCCESS":return{user:t.payload,isFetching:!1,error:!1};case"LOGIN_FAILURE":return{user:null,isFetching:!1,error:!0};case"FOLLOW":return Object(h.a)(Object(h.a)({},e),{},{user:Object(h.a)(Object(h.a)({},e.user),{},{followings:[].concat(Object(p.a)(e.user.followings),[t.payload])})});case"UNFOLLOW":return Object(h.a)(Object(h.a)({},e),{},{user:Object(h.a)(Object(h.a)({},e.user),{},{followings:e.user.followings.filter((function(e){return e!==t.payload}))})});default:return e}},O=s(0),x={user:JSON.parse(localStorage.getItem("user"))||null,isFetching:!1,error:!1},f=Object(c.createContext)(x),g=function(e){var t=e.children,s=Object(c.useReducer)(m,x),a=Object(b.a)(s,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){localStorage.setItem("user",JSON.stringify(r.user))}),[r.user]),Object(O.jsx)(f.Provider,{value:{user:r.user,isFetching:r.isFetching,error:r.error,dispatch:n},children:t})};function v(){var e=Object(c.useContext)(f).user,t="http://localhost:8800/images/";Object(d.useHistory)();return Object(O.jsxs)("div",{className:"topbarContainer",children:[Object(O.jsx)("div",{className:"topbarLeft",children:Object(O.jsx)(u.b,{to:"/",style:{textDecoration:"none"},children:Object(O.jsx)("span",{className:"logo",children:"Social-App"})})}),Object(O.jsx)("div",{className:"topbarCenter",children:Object(O.jsxs)("div",{className:"searchbar",children:[Object(O.jsx)(i.a,{className:"searchIcon"}),Object(O.jsx)("input",{placeholder:"Search for friend, post or video",className:"searchInput"})]})}),Object(O.jsxs)("div",{className:"topbarRight",children:[Object(O.jsxs)("div",{className:"topbarLinks",children:[Object(O.jsx)("span",{className:"topbarLink",children:"Homepage"}),Object(O.jsx)("span",{className:"topbarLink",children:"Timeline"})]}),Object(O.jsxs)("div",{className:"topbarIcons",children:[Object(O.jsxs)("div",{className:"topbarIconItem",children:[Object(O.jsx)(o.a,{}),Object(O.jsx)("span",{className:"topbarIconBadge",children:"1"})]}),Object(O.jsxs)("div",{className:"topbarIconItem",children:[Object(O.jsx)(l.a,{}),Object(O.jsx)("span",{className:"topbarIconBadge",children:"2"})]}),Object(O.jsxs)("div",{className:"topbarIconItem",children:[Object(O.jsx)(j.a,{}),Object(O.jsx)("span",{className:"topbarIconBadge",children:"1"})]})]}),Object(O.jsx)(u.b,{to:"/profile/".concat(e.username),children:Object(O.jsx)("img",{src:e.profilePicture?t+e.profilePicture:t+"person/noAvatar.png",alt:"",className:"topbarImg"})}),Object(O.jsx)("button",{onClick:function(){localStorage.removeItem("user"),window.location.assign("/login")},style:{backgroundColor:"white",padding:"5px",cursor:"pointer"},children:"Logout"})]})]})}s(71);var N=s(121),I=s(122),y=s(123),w=s(124),C=s(125),L=s(126),k=s(127),P=s(128),F=[{id:1,profilePicture:"person/noAvatar.png",username:"Hussein"},{id:2,profilePicture:"person/noAvatar.png",username:"ahmed"},{id:3,profilePicture:"person/noAvatar.png",username:"najma"},{id:4,profilePicture:"person/noAvatar.png",username:"hassan"},{id:5,profilePicture:"person/noAvatar.png",username:"hussein"},{id:6,profilePicture:"person/noAvatar.png",username:"abdi"},{id:7,profilePicture:"person/noAvatar.png",username:"mohamed"},{id:8,profilePicture:"person/noAvatar.png",username:"sadiq"},{id:9,profilePicture:"person/noAvatar.png",username:"john"},{id:10,profilePicture:"person/noAvatar.png",username:"jane"}];s(72);function S(e){var t=e.user;return Object(O.jsxs)("li",{className:"sidebarFriend",children:[Object(O.jsx)("img",{className:"sidebarFriendImg",src:"http://localhost:8800/images/"+t.profilePicture,alt:""}),Object(O.jsx)("span",{className:"sidebarFriendName",children:t.username})]})}function A(){return Object(O.jsx)("div",{className:"sidebar",children:Object(O.jsxs)("div",{className:"sidebarWrapper",children:[Object(O.jsxs)("ul",{className:"sidebarList",children:[Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(N.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Feed"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(l.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Chats"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(I.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Videos"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(y.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Groups"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(w.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Bookmarks"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(C.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Questions"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(L.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Jobs"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(k.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Events"})]}),Object(O.jsxs)("li",{className:"sidebarListItem",children:[Object(O.jsx)(P.a,{className:"sidebarIcon"}),Object(O.jsx)("span",{className:"sidebarListItemText",children:"Courses"})]})]}),Object(O.jsx)("button",{className:"sidebarButton",children:"Show More"}),Object(O.jsx)("hr",{className:"sidebarHr"}),Object(O.jsx)("ul",{className:"sidebarFriendList",children:F.map((function(e){return Object(O.jsx)(S,{user:e},e.id)}))})]})})}var T=s(4),R=s.n(T),_=s(9),B=(s(74),s(129)),D=s(130),U=s(5),E=s.n(U),W=s(55),q=s(33),G=s.n(q);function H(e){var t=e.post,s=e.fetchPosts,a=Object(c.useState)(t.likes.length),r=Object(b.a)(a,2),n=r[0],i=r[1],o=Object(c.useState)(!1),l=Object(b.a)(o,2),j=l[0],d=l[1],p=Object(c.useState)({}),h=Object(b.a)(p,2),m=h[0],x=h[1],g="http://localhost:8800/images/",v=Object(c.useContext)(f).user;document.querySelector(".postTopRight");Object(c.useEffect)((function(){d(t.likes.includes(v._id))}),[v._id,t.likes]);var N=function(){var e=Object(_.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:G()("Are you sure you want to delete?",{buttons:{catch:{text:"Delete!",value:"catch"},cancel:{text:"Cancel!",value:"cancel"},Cancel:!0}}).then((function(e){switch(e){case"catch":Object(_.a)(R.a.mark((function e(){var c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.delete("/posts/".concat(t._id));case 3:c=e.sent,console.log(c),G()("Deleted!","Post deleted!","success"),s(),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),G()("Ops!","Somthing went wrong!","error");case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(_.a)(R.a.mark((function e(){var s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/users?userId=".concat(t.userId));case 2:s=e.sent,x(s.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){I()}),[t.userId]);var y=function(){try{E.a.put("/posts/"+t._id+"/like",{userId:v._id}),i(j?n-1:n+1),d(!j)}catch(e){console.log(e)}};return Object(O.jsx)("div",{className:"post",children:Object(O.jsxs)("div",{className:"postWrapper",children:[Object(O.jsxs)("div",{className:"postTop",children:[Object(O.jsxs)("div",{className:"postTopLeft",children:[Object(O.jsx)(u.b,{to:"/profile/".concat(m.username),children:Object(O.jsx)("img",{className:"postProfileImg",src:m.profilePicture?g+m.profilePicture:g+"person/noAvatar.png",alt:""})}),Object(O.jsx)("span",{className:"postUsername",children:m.username}),Object(O.jsx)("span",{className:"postDate",children:Object(W.a)(t.createdAt)})]}),v._id===t.userId&&Object(O.jsxs)("div",{className:"postTopRight",style:{display:"flex",flexDirection:"column"},children:[Object(O.jsx)(B.a,{onClick:N,style:{cursor:"pointer",color:"grey"}}),Object(O.jsx)(D.a,{onClick:function(){console.log("clicked")},style:{cursor:"pointer",color:"grey"}})]})]}),Object(O.jsxs)("div",{className:"postCenter",children:[Object(O.jsx)("span",{className:"postText",children:null===t||void 0===t?void 0:t.desc}),Object(O.jsx)("img",{className:"postImg",src:g+t.img,alt:""})]}),Object(O.jsxs)("div",{className:"postBottom",children:[Object(O.jsxs)("div",{className:"postBottomLeft",children:[Object(O.jsx)("img",{className:"likeIcon",src:"".concat(g,"like.png"),onClick:y,alt:""}),Object(O.jsx)("img",{className:"likeIcon",src:"".concat(g,"heart.png"),onClick:y,alt:""}),Object(O.jsxs)("span",{className:"postLikeCounter",children:[n," people like it"]})]}),Object(O.jsx)("div",{className:"postBottomRight",children:Object(O.jsxs)("span",{className:"postCommentText",children:[t.comment," comments"]})})]})]})})}s(94);var J=s(131),V=s(132),z=s(133),K=s(134),M=s(135),Q=s(17);function Y(e){var t=e.fetchPosts,s=Object(c.useContext)(f).user,a="http://localhost:8800/images/",r=Object(c.useRef)(),n=Object(c.useState)(null),i=Object(b.a)(n,2),o=i[0],l=i[1],j=function(){var e=Object(_.a)(R.a.mark((function e(c){var a,n,i;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),o||""!==r.current.value){e.next=3;break}return e.abrupt("return",Q.b.error("image or description is required for post"));case 3:if(a={userId:s._id,desc:r.current.value},!o){e.next=19;break}return n=new FormData,i=Date.now()+o.name,n.append("name",i),n.append("file",o),a.img=i,console.log(a),e.prev=11,e.next=14,E.a.post("/upload",n);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),console.log(e.t0);case 19:return e.prev=19,e.next=22,E.a.post("/posts",a);case 22:t(),Q.b.success("Post Added"),e.next=29;break;case 26:e.prev=26,e.t1=e.catch(19),console.log(e.t1.msg);case 29:l(null),r.current.value="";case 31:case"end":return e.stop()}}),e,null,[[11,16],[19,26]])})));return function(t){return e.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"share",children:Object(O.jsxs)("div",{className:"shareWrapper",children:[Object(O.jsxs)("div",{className:"shareTop",children:[Object(O.jsx)("img",{className:"shareProfileImg",src:s.profilePicture?a+s.profilePicture:a+"person/noAvatar.png",alt:""}),Object(O.jsx)("input",{placeholder:"What's in your mind "+s.username+"?",className:"shareInput",ref:r,name:" name"})]}),Object(O.jsx)("hr",{className:"shareHr"}),o&&Object(O.jsxs)("div",{className:"shareImgContainer",children:[Object(O.jsx)("img",{className:"shareImg",src:URL.createObjectURL(o),alt:""}),Object(O.jsx)(J.a,{className:"shareCancelImg",onClick:function(){return l(null)}})]}),Object(O.jsxs)("form",{className:"shareBottom",onSubmit:j,children:[Object(O.jsxs)("div",{className:"shareOptions",children:[Object(O.jsxs)("label",{htmlFor:"file",className:"shareOption",children:[Object(O.jsx)(V.a,{htmlColor:"tomato",className:"shareIcon"}),Object(O.jsx)("span",{className:"shareOptionText",children:"Photo or Video"}),Object(O.jsx)("input",{style:{display:"none"},type:"file",id:"file",accept:".png,.jpeg,.jpg",onChange:function(e){return l(e.target.files[0])}})]}),Object(O.jsxs)("div",{className:"shareOption",children:[Object(O.jsx)(z.a,{htmlColor:"blue",className:"shareIcon"}),Object(O.jsx)("span",{className:"shareOptionText",children:"Tag"})]}),Object(O.jsxs)("div",{className:"shareOption",children:[Object(O.jsx)(K.a,{htmlColor:"green",className:"shareIcon"}),Object(O.jsx)("span",{className:"shareOptionText",children:"Location"})]}),Object(O.jsxs)("div",{className:"shareOption",children:[Object(O.jsx)(M.a,{htmlColor:"goldenrod",className:"shareIcon"}),Object(O.jsx)("span",{className:"shareOptionText",children:"Feelings"})]})]}),Object(O.jsx)("button",{className:"shareButton",type:"submit",children:"Share"})]})]})})}s(95);function X(e){var t=e.username,s=Object(c.useState)([]),a=Object(b.a)(s,2),r=a[0],n=a[1],i=Object(c.useContext)(f).user,o=function(){var e=Object(_.a)(R.a.mark((function e(){var s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return e.next=3,E.a.get("/posts/profile/"+t);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,E.a.get("posts/timeline/"+i._id);case 8:e.t0=e.sent;case 9:s=e.t0,n(s.data.sort((function(e,t){return new Date(t.createdAt)-new Date(e.createdAt)})));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){o()}),[t,i._id,r]),Object(O.jsx)("div",{className:"feed",children:Object(O.jsxs)("div",{className:"feedWrapper",children:[(!t||t===i.username)&&Object(O.jsx)(Y,{fetchPosts:o}),r.map((function(e){return Object(O.jsx)(H,{post:e,fetchPosts:o},e._id)}))]})})}s(96),s(97);function Z(e){var t=e.user;return Object(O.jsxs)("li",{className:"rightbarFriend",children:[Object(O.jsxs)("div",{className:"rightbarProfileImgContainer",children:[Object(O.jsx)("img",{className:"rightbarProfileImg",src:"http://localhost:8800/images/"+t.profilePicture,alt:""}),Object(O.jsx)("span",{className:"rightbarOnline"})]}),Object(O.jsx)("span",{className:"rightbarUsername",children:t.username})]})}var $=s(136),ee=s(137);function te(e){var t=e.user,s="http://localhost:8800/images/",a=Object(c.useState)([]),r=Object(b.a)(a,2),n=r[0],i=r[1],o=Object(c.useContext)(f),l=o.user,j=o.dispatch,d=Object(c.useState)(l.followings.includes(null===t||void 0===t?void 0:t._id)),p=Object(b.a)(d,2),h=p[0],m=p[1];console.log(l.followings.includes(null===t||void 0===t?void 0:t._id)),Object(c.useEffect)((function(){m(l.followings.includes(null===t||void 0===t?void 0:t._id));var e=function(){var e=Object(_.a)(R.a.mark((function e(){var s;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,E.a.get("/users/friends/"+t._id);case 3:s=e.sent,i(s.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();t&&t._id&&e()}),[t]);var x=function(){var e=Object(_.a)(R.a.mark((function e(){return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!h){e.next=7;break}return e.next=4,E.a.put("/users/".concat(t._id,"/unfollow"),{userId:l._id});case 4:j({type:"UNFOLLOW",payload:t._id}),e.next=10;break;case 7:return e.next=9,E.a.put("/users/".concat(t._id,"/follow"),{userId:l._id});case 9:j({type:"FOLLOW",payload:t._id});case 10:m(!h),e.next=15;break;case 13:e.prev=13,e.t0=e.catch(0);case 15:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),g=function(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsxs)("div",{className:"birthdayContainer",children:[Object(O.jsx)("img",{className:"birthdayImg",src:"assets/gift.png",alt:""}),Object(O.jsxs)("span",{className:"birthdayText",children:[Object(O.jsx)("b",{children:"You "})," and ",Object(O.jsx)("b",{children:"3 other friends"})," have a birhday today."]})]}),Object(O.jsx)("img",{className:"rightbarAd",src:"assets/ad.jpg",alt:""}),Object(O.jsx)("h4",{className:"rightbarTitle",children:"Online Friends"}),Object(O.jsx)("ul",{className:"rightbarFriendList",children:F.map((function(e){return Object(O.jsx)(Z,{user:e},e.id)}))})]})},v=function(){return Object(O.jsxs)(O.Fragment,{children:[t.username!==l.username&&Object(O.jsxs)("button",{className:"rightbarFollowButton",onClick:x,children:[h?"Unfollow":"Follow",h?Object(O.jsx)($.a,{}):Object(O.jsx)(ee.a,{})]}),Object(O.jsxs)("div",{style:{flexWrap:"wrap",alignItems:"center",display:"flex",flexDirection:"row"},children:[Object(O.jsx)("h4",{className:"rightbarTitle",children:"User information"}),Object(O.jsx)("button",{onClick:function(){},children:"+"})]}),Object(O.jsxs)("div",{className:"rightbarInfo",children:[Object(O.jsxs)("div",{className:"rightbarInfoItem",children:[Object(O.jsx)("span",{className:"rightbarInfoKey",children:"City:"}),Object(O.jsx)("span",{className:"rightbarInfoValue",children:t.city})]}),Object(O.jsxs)("div",{className:"rightbarInfoItem",children:[Object(O.jsx)("span",{className:"rightbarInfoKey",children:"From:"}),Object(O.jsx)("span",{className:"rightbarInfoValue",children:t.from})]})]}),Object(O.jsx)("h4",{className:"rightbarTitle",children:"User friends"}),Object(O.jsx)("div",{className:"rightbarFollowings",children:n.map((function(e,t){return Object(O.jsx)(u.b,{to:"/profile/"+e.username,style:{textDecoration:"none"},children:Object(O.jsxs)("div",{className:"rightbarFollowing",children:[Object(O.jsx)("img",{src:e.profilePicture?s+e.profilePicture:s+"person/noAvatar.png",alt:"",className:"rightbarFollowingImg"}),Object(O.jsx)("span",{className:"rightbarFollowingName",children:e.username})]})},t)}))})]})};return Object(O.jsx)("div",{className:"rightbar",children:Object(O.jsx)("div",{className:"rightbarWrapper",children:t?Object(O.jsx)(v,{}):Object(O.jsx)(g,{})})})}s(98);function se(){return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"homeContainer",children:[Object(O.jsx)(A,{}),Object(O.jsx)(X,{}),Object(O.jsx)(te,{})]})]})}s(99);var ce=s(54),ae=function(){var e=Object(_.a)(R.a.mark((function e(t,s){var c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:"LOGIN_START"}),e.prev=1,e.next=4,E.a.post("/auth/login",t);case 4:c=e.sent,s({type:"LOGIN_SUCCESS",payload:c.data}),Q.b.success("logged"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),s({type:"LOGIN_FAILURE",payload:e.t0}),Q.b.error("error!");case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,s){return e.apply(this,arguments)}}(),re=s(138);function ne(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useContext)(f),a=s.isFetching,r=s.dispatch,n=Object(ce.useHistory)();return Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)("div",{className:"loginWrapper",children:[Object(O.jsxs)("div",{className:"loginLeft",children:[Object(O.jsx)("h3",{className:"loginLogo",children:"Social App"}),Object(O.jsx)("span",{className:"loginDesc",children:"Connect with friends and the world around you on Lamasocial."})]}),Object(O.jsx)("div",{className:"loginRight",children:Object(O.jsxs)("form",{className:"loginBox",onSubmit:function(s){s.preventDefault(),ae({email:e.current.value,password:t.current.value},r)},children:[Object(O.jsx)("input",{placeholder:"Email",type:"email",required:!0,className:"loginInput",ref:e}),Object(O.jsx)("input",{placeholder:"Password",type:"password",required:!0,minLength:6,className:"loginInput",ref:t}),Object(O.jsx)("button",{className:"loginButton",type:"submit",disabled:a,children:a?Object(O.jsx)(re.a,{color:"white",size:"20px"}):"Log In"}),Object(O.jsx)("span",{className:"loginForgot",children:"Forgot Password?"}),Object(O.jsx)("button",{onClick:function(){n.push("/register")},className:"loginRegisterButton",children:a?Object(O.jsx)(re.a,{color:"white",size:"20px"}):"Create a New Account"})]})})]})})}s(100);function ie(){var e="http://localhost:8800/images/",t=Object(c.useState)({}),s=Object(b.a)(t,2),a=s[0],r=s[1],n=Object(d.useParams)().username;return Object(c.useEffect)((function(){(function(){var e=Object(_.a)(R.a.mark((function e(){var t;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.a.get("/users?username=".concat(n));case 2:t=e.sent,r(t.data),console.log(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[n]),Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(v,{}),Object(O.jsxs)("div",{className:"profile",children:[Object(O.jsx)(A,{}),Object(O.jsxs)("div",{className:"profileRight",children:[Object(O.jsxs)("div",{className:"profileRightTop",children:[Object(O.jsxs)("div",{className:"profileCover",children:[Object(O.jsx)("img",{className:"profileCoverImg",src:a.coverPicture?e+a.coverPicture:e+"person/noCover.jpg",alt:""}),Object(O.jsx)("img",{className:"profileUserImg",src:a.profilePicture?e+a.profilePicture:e+"person/noAvatar.png",alt:""})]}),Object(O.jsxs)("div",{className:"profileInfo",children:[Object(O.jsx)("h4",{className:"profileInfoName",children:a.username}),Object(O.jsx)("span",{className:"profileInfoDesc",children:a.desc})]})]}),Object(O.jsxs)("div",{className:"profileRightBottom",children:[Object(O.jsx)(X,{username:n}),Object(O.jsx)(te,{user:a})]})]})]})]})}s(101);function oe(){var e=Object(c.useRef)(),t=Object(c.useRef)(),s=Object(c.useRef)(),a=Object(c.useRef)(),r=Object(d.useHistory)(),n=function(){var c=Object(_.a)(R.a.mark((function c(n){var i;return R.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(n.preventDefault(),a.current.value===s.current.value){c.next=5;break}a.current.setCustomValidity("Passwords don't match!"),c.next=17;break;case 5:return i={username:e.current.value,email:t.current.value,password:s.current.value},c.prev=6,c.next=9,E.a.post("/auth/register",i);case 9:r.push("/login"),Q.b.success("user been created"),c.next=17;break;case 13:c.prev=13,c.t0=c.catch(6),console.log(c.t0),Q.b.error("something went wrong");case 17:case"end":return c.stop()}}),c,null,[[6,13]])})));return function(e){return c.apply(this,arguments)}}();return Object(O.jsx)("div",{className:"login",children:Object(O.jsxs)("div",{className:"loginWrapper",children:[Object(O.jsxs)("div",{className:"loginLeft",children:[Object(O.jsx)("h3",{className:"loginLogo",children:"Social App"}),Object(O.jsx)("span",{className:"loginDesc",children:"Connect with friends and the world around you on Lamasocial."})]}),Object(O.jsx)("div",{className:"loginRight",children:Object(O.jsxs)("form",{className:"loginBox",onSubmit:n,children:[Object(O.jsx)("input",{placeholder:"Username",required:!0,ref:e,className:"loginInput"}),Object(O.jsx)("input",{placeholder:"Email",required:!0,ref:t,className:"loginInput",type:"email"}),Object(O.jsx)("input",{placeholder:"Password",required:!0,ref:s,className:"loginInput",type:"password",minLength:"6"}),Object(O.jsx)("input",{placeholder:"Password Again",required:!0,ref:a,className:"loginInput",type:"password"}),Object(O.jsx)("button",{className:"loginButton",type:"submit",children:"Sign Up"}),Object(O.jsx)("button",{onClick:function(){r.push("/login")},className:"loginRegisterButton",children:"Log into Account"})]})})]})})}s(102);function le(){var e=Object(c.useContext)(f).user,t=Object(c.useState)({city:e.city,from:e.from}),s=Object(b.a)(t,2),a=s[0],r=s[1],n=Object(d.useParams)().userId;console.log(n);return Object(O.jsx)("div",{style:{width:"100vw",height:"100vh",backgroundColor:"#f0f2f5",display:"flex",alignItems:"center",justifyContent:"center"},children:Object(O.jsxs)("div",{style:{alignItems:"center",justifyContent:"center",textAlign:"center"},children:[Object(O.jsx)("h1",{style:{textAlign:"center",fontStyle:"italic"},children:"user info"}),Object(O.jsxs)("form",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[Object(O.jsx)("input",{value:a.city,type:"text",placeholder:"City",onChange:function(e){return r(Object(h.a)(Object(h.a)({},a),{},{city:e.target.value}))}}),Object(O.jsx)("input",{value:a.from,type:"text",placeholder:"From",onChange:function(e){return r(Object(h.a)(Object(h.a)({},a),{},{from:e.target.value}))}}),Object(O.jsx)("button",{onClick:function(t){return function(t){t.preventDefault(),E.a.post("http://localhost:8800/api/users/updateProfile",{userId:e._id,data:{city:a.city,from:a.from}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}(t)},style:{cursor:"pointer"},children:"save Changes"}),Object(O.jsx)("button",{onClick:function(e){return function(e){e.preventDefault(),window.location("/")}(e)},children:"Go Back To Profile"})]})]})})}var je=function(){var e=Object(c.useContext)(f).user;return Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)(u.a,{children:Object(O.jsxs)(d.Switch,{children:[Object(O.jsx)(d.Route,{exact:!0,path:"/",children:e?Object(O.jsx)(se,{}):Object(O.jsx)(ne,{})}),Object(O.jsx)(d.Route,{path:"/login",children:e?Object(O.jsx)(d.Redirect,{to:"/"}):Object(O.jsx)(ne,{})}),Object(O.jsx)(d.Route,{path:"/register",children:e?Object(O.jsx)(d.Redirect,{to:"/"}):Object(O.jsx)(oe,{})}),Object(O.jsx)(d.Route,{path:"/profile/:username",children:Object(O.jsx)(ie,{})}),Object(O.jsx)(d.Route,{path:"/edit/:userId",children:Object(O.jsx)(le,{})})]})}),Object(O.jsx)(Q.a,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),Object(O.jsx)(Q.a,{})]})};n.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(g,{children:Object(O.jsx)(je,{})})}),document.getElementById("root"))},62:function(e,t,s){},71:function(e,t,s){},72:function(e,t,s){},74:function(e,t,s){},94:function(e,t,s){},95:function(e,t,s){},96:function(e,t,s){},97:function(e,t,s){},98:function(e,t,s){},99:function(e,t,s){}},[[103,1,2]]]);
//# sourceMappingURL=main.6a3cd3e0.chunk.js.map